{
    "collab_server" : "",
    "contents" : "# notes on creating a database from https://www.r-bloggers.com/r-and-sqlite-part-1/\n\nlibrary(RSQLite)\nlibrary(DBI)\nlibrary(sqldf)\n\n## extract the home directory\nhome_dir<-getwd()\n## set the working directory\nsetwd(\"test_trait_database\")\n## make a new folder to test R creating databases in \n# system(\"mkdir testing_R_db\")\n## reset the working directory\nsetwd(\"testing_R_db\")\n\n#############\n## make a fake database to test\n## using the RSQLite package\ndb <- dbConnect(SQLite(), dbname=\"Test.sqlite\")\n## using the sqldf pacakge\nsqldf(\"attach 'Test1.sqlite' as new\")\n\n###############\n## adding data to the database the hard way\ndbSendQuery(conn = db, \"CREATE TABLE School (SchID INTEGER, Location TEXT,\n              Authority TEXT, SchSize TEXT)\")\ndbSendQuery(conn = db, \"INSERT INTO School VALUES (1, 'urban', 'state', 'medium')\")\ndbSendQuery(conn = db, \"INSERT INTO School VALUES (2, 'urban', 'independent', 'large')\")\ndbSendQuery(conn = db, \"INSERT INTO School VALUES (3, 'rural', 'state', 'small')\")\n\n## list tables in the database\ndbListTables(db)            \n## list columsn in the school table\ndbListFields(db, \"School\")\n## look at the data in the table\ndbReadTable(db, \"School\")     \n\n## remove the school table\ndbRemoveTable(db, \"School\") \n\n#######################\n## adding data to the database the easy way\ndbWriteTable(conn = db, name = \"Student\", value = \"student.csv\",\n             row.names = FALSE, header = TRUE)\ndbWriteTable(conn = db, name = \"Class\", value = \"class.csv\",\n             row.names = FALSE, header = TRUE)\ndbWriteTable(conn = db, name = \"School\", value = \"school.csv\",\n             row.names = FALSE, header = TRUE)\n\n## list tables in the database\ndbListTables(db)            \n## list columsn in the school table\ndbListFields(db, \"School\")\n## look at the data in the table\ndbReadTable(db, \"School\")     \n\n######################\n## also read the csvs in as df first in R\ndbRemoveTable(db, \"School\")   # Remove the tables\ndbRemoveTable(db, \"Class\")\ndbRemoveTable(db, \"Student\")\n\nSchool <- read.csv(\"school.csv\")  # Read csv files into R\nClass <- read.csv(\"class.csv\")\nStudent <- read.csv(\"student.csv\")\n\n# Import data frames into database\ndbWriteTable(conn = db, name = \"Student\", value = Student, row.names = FALSE)\ndbWriteTable(conn = db, name = \"Class\", value = Class, row.names = FALSE)\ndbWriteTable(conn = db, name = \"School\", value = School, row.names = FALSE)\n\ndbListTables(db)                 # The tables in the database\ndbListFields(db, \"School\")       # The columns in a table\ndbReadTable(db, \"School\")        # The data in a table\n\n# dbGetQuery(conn, \"CREATE TABLE Data (DataID integer primary key autoincrement, \n#            DataTypeID integer, DataName varchar)\")\n\ndbGetQuery(db, \"SELECT * FROM School CROSS JOIN Student WHERE Gender = 'female' \")\n",
    "created" : 1525309893429.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4005463817",
    "id" : "3D3D5D1",
    "lastKnownWriteTime" : 1525308863,
    "last_content_update" : 1525308863,
    "path" : "/data/Dropbox/Mayfield Lab/FunctionalTraitDatabase/SQLite_Database/make.database.R",
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}